title: Manjaro 下设置 yaourt 走ss代理
date: 2016-01-25 10:24:00
categories: 技术研究
tags: [Linux基础,Shadowsocks]
---
[KK-Player 92410]<br />
[00:00.360](白)人间道 <br />
[00:04.970]道道道道道道 <br />
[00:07.050]道道道道道道道道道 <br />
[00:18.970]<br />
[00:22.540]道可道 非常道 <br />
[00:27.020]天道地道 人道剑道 &nbsp; &nbsp; &nbsp; &nbsp; <br />
[00:31.860]黑道白道黄道赤道 <br />
[00:33.100]乜道物道道道都道 <br />
[00:33.790]自己嗰道系非常道 <br />
[00:36.620]呸呸呸呸呸 胡说八道<br />
[00:46.030]呢度嗰度 边度系路 (笑)哈哈 &nbsp; <br />
[00:50.800]花道茶道 哈 阴道阳道 哈 &nbsp; &nbsp;<br />
[00:53.020]零度密度咸度淡度光度热度雷射角度 <br />
[00:55.530]鬼哭神号旁门左道狗上瓦坑必然有路 &nbsp;<br />
[00:58.110]你度佢度豺狼当道 唏 我自求我道 <br />
[01:02.850]我自求我道 &nbsp; &nbsp; &nbsp; <br />
[01:12.340]道可道 非常道 <br />
[01:17.070]天道地道 人道剑道 &nbsp; &nbsp; &nbsp; &nbsp; <br />
[01:21.830]黑道白道黄道赤道 <br />
[01:23.110]乜道物道道道都道 <br />
[01:24.390]自己嗰道系非常道 <br />
[01:26.730]NO NO NO NO NO 胡说八道<br />
[01:36.190]呢度嗰度 边度系路 (笑)哈哈 &nbsp; <br />
[01:40.960]花道茶道 哈 阴道阳道 哈 &nbsp; &nbsp;<br />
[01:43.560]海底隧道天后庙道皇后大道罗便臣道 <br />
[01:45.810]马头围道牛头角道金马伦道铜锣湾道 &nbsp;<br />
[01:48.330]条条大道条条系路 <br />
[01:51.040]哈 我自求我道 <br />
[01:53.580]我自求我道 &nbsp; &nbsp; &nbsp; <br />
[02:05.070]<br />
[02:21.600]道可道 非常道 <br />
[02:26.080]天道地道 人道剑道 <br />
[02:30.890]一道二道三道四道 <br />
[02:32.280]东道南道西道北道 <br />
[02:33.270]左道右道前路后路 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />
[02:35.900]都都都都都 系胡说八道 <br />
[02:45.030]呢度嗰度 <br />
[02:46.330]边度系路 (笑)哈哈<br />
[02:47.600]花道茶道 哈 阴道阳道 哈 <br />
[02:50.560] &nbsp; <br />
[02:52.300]零度密度咸度淡度光度热度雷射角度 <br />
[02:54.570]鬼哭神号旁门左道狗上瓦坑必然有路 &nbsp;<br />
[02:57.050]你度佢度豺狼当道 唏 <br />
[02:59.840]各自求各道 <br />
[03:02.490]各自求各道<br />
[/KK-Player]<br />
<br />
<p>
	Arch系的linux还真不好折腾 AUR上的软件包有些都被wall了
</p>
<p>
	只好自己摸索办法，让 yaourt 去走代理
</p>
<p>
	看了archwiki 知道了 yaourt 是默认支持http_proxy和https_proxy的
</p>
<p>
	于是想到了借助&nbsp;privoxy 来转发数据流给 ss 的办法
</p>
<p>
	<!--more--><br />
记录下&nbsp;<span>privoxy 的配置过程</span> 
</p>
<p>
	首先安装&nbsp;<span>privoxy&nbsp;</span> 
</p>
<pre class="brush:bash; toolbar:false;">sudo pacman -S privoxy</pre>
<p>
	<br />
</p>
<p>
	配置config文件
</p>
<pre class="brush:bash; toolbar:false;">sudo kwrite /etc/privoxy/config</pre>
<p>
	<br />
</p>
<p>
	直接在最顶上新建一行，写上 ss 的本地代理地址
</p>
<pre class="brush:bash; toolbar:false;">forward-socks5 / 127.0.0.1:1288 .</pre>
<p>
	<br />
</p>
<p>
	然后保存退出，并启动&nbsp;privoxy 服务
</p>
<pre class="brush:bash; toolbar:false;">sudo systemctl start privoxy.service</pre>
<p>
	<br />
</p>
<p>
	<span style="line-height:1.5;"><span>privoxy 的默认监听端口是8118（可以在刚在的配置文件里面改listen-address），所以直接配置http_proxy和https_proxy即可</span></span> 
</p>
<p>
	<span style="line-height:1.5;"><span> </span></span> 
</p>
<pre class="brush:bash; toolbar:false;">export https_proxy=127.0.0.1:8118
export http_proxy=127.0.0.1:8118</pre>
<p>
	<br />
</p>
<p>
	<span style="line-height:1.5;"><span><br />
</span></span> 
</p>